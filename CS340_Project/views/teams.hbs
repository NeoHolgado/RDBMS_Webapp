<h1>Add a Team</h1>

<form class="cuForm" action="/add-team" method="POST">
  <h3 class="cal-sans">Team Details</h3>
  <br>
  <input name="team_name" placeholder="Team Name" class="form-field" required />
  <input name="location" placeholder="Location" class="form-field" required />
  <input name="website" placeholder="Website" class="form-field" required />
  <button type="submit">Add Team</button>
</form>

<h1>Teams</h1>
<table>
  <thead>
    <tr>
      <th>Team ID</th>
      <th>Team Name</th>
      <th>Location</th>
      <th>Website</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {{#each teams}}
    <tr>
      <form action="/update-team" method="POST" class="team-form">
        <td><input type="number" name="team_id" class="form-field" value="{{this.team_id}}" ></td>
        <td><input type="text" name="team_name" class="form-field" value="{{this.team_name}}"></td>
        <td><input type="text" name="location" class="form-field" value="{{this.location}}"></td>
        <td><input type="text" name="website" class="form-field" value="{{this.website}}"></td>
        <td>
          <button type="submit">Update</button>
      </form>
     
      <form action="/delete-team" method="POST" style="display:inline; margin-left: 5px;">
        <input type="hidden" name="team_id" value="{{this.team_id}}">
        <button type="submit" onclick="return confirm('Are you sure you want to delete this team?');">Delete</button>
      </form>
      </td>
    </tr>
    {{/each}}
  </tbody>
</table>

<script>
  document.querySelectorAll(".edit-btn").forEach((btn) => {
  btn.addEventListener("click", function () {
    const row = btn.closest("tr");
    row.querySelectorAll("input").forEach(input => input.removeAttribute("readonly"));
    row.querySelector(".submit-btn").style.display = "inline";
    btn.style.display = "none";
  });
});

</script>
